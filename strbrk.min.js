"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(n){for(var r,t=1,e=arguments.length;t<e;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n}).apply(this,arguments)};exports.__esModule=!0;var lnEndOpt,widthFlags,utf16_char_codes_1=require("utf16-char-codes");!function(n){n[n.none=0]="none",n[n.noLnBr=1]="noLnBr",n[n.encode=2]="encode",n[n.splitByEol=3]="splitByEol"}(lnEndOpt=exports.lnEndOpt||(exports.lnEndOpt={})),function(n){n[n.none=0]="none",n[n.fullwidth=1]="fullwidth",n[n.surrogatePair=2]="surrogatePair"}(widthFlags=exports.widthFlags||(exports.widthFlags={})),exports.stringBreaker=function(n,r){if("string"!=typeof n)throw new TypeError("stringBreaker: str parmeter must be of type string");var t=getOptions({width:80,lnEnd:lnEndOpt.noLnBr,noExSp:!1,noBOM:!0,lenOpt:widthFlags.none},r);switch(t.lnEnd){case lnEndOpt.encode:n=encodeLnBr(n);break;case lnEndOpt.noLnBr:n=removeLnBr(n);break;case lnEndOpt.splitByEol:n=cleanLnBr(n)}return!0===t.noExSp&&(n=removeExSp(n)),t.lnEnd===lnEndOpt.splitByEol?breakStrByEol(n,t):breakStrByCodePoint(n,t)};var getOptions=function(n,r){return null==r||"function"==typeof r?n:("number"==typeof r&&((n=__assign({},n)).width=r,r=n),void 0===r.width&&(r.width=80),void 0===r.lnEnd&&(r.lnEnd=lnEndOpt.noLnBr),void 0===r.noExSp&&(r.noExSp=!1),void 0===r.noBOM&&(r.noBOM=!0),void 0===r.lenOpt&&(r.lenOpt=widthFlags.none),r)},breakStrByEol=function(n,r){var t=[];if(0===n.length)return t.push(""),t;t=n.split(/\n/);var e=!1;if(!0===r.noBOM&&(e=!0),!0===e&&0<t.length){var o=t[0];if(0<o.length){var i=Number(o.codePointAt(0));!0===isBom(i)&&(o=o.substr(1),t[0]=o)}}return t},breakStrByCodePoint=function(n,r){var t=Math.round(Number(r.width));if(t<1)throw new RangeError("stringBreaker: Width must be greater than zero");var e=[],o=[],i=!1,a=!1,s=!1;if(void 0!==r.lenOpt){if(r.lenOpt<widthFlags.none||3<r.lenOpt)throw new RangeError("stringBreaker: widthflags enum out of range. Expected value to be from "+widthFlags.none+" to 3");(r.lenOpt&widthFlags.fullwidth)===widthFlags.fullwidth&&(a=!0),(r.lenOpt&widthFlags.surrogatePair)===widthFlags.surrogatePair&&(s=!0)}!0===r.noBOM&&(i=!0);for(var l=0,u=0;u<n.length;u++){var d=n.codePointAt(u);if(void 0===d)throw new Error("stringBreaker Error: No code point exist in first parameter str at postion "+u);var p=Number(d),g=String.fromCodePoint(p);if(0===u)if(!0===i){if(!0===isBom(p))continue}else if(!0===isBom(p)){o.push(g);continue}!0===isSurrogatePair(p)&&u++,l++,!0===a&&!0===utf16_char_codes_1.codePointFullWidth(p)&&l++,!0===s&&!0===isSurrogatePair(p)&&l++,o.push(g),t<=l&&(e.push(o.join("")),o=[],l=0)}return 0<o.length&&(e.push(o.join("")),o=[]),e},removeLnBr=function(n){return 0===n.length?"":n.replace(/(\r\n|\n|\r)/gm,"")},cleanLnBr=function(n){return 0===n.length?"":n.replace(/(\r\n|\n|\r)/gm,"\n")},removeExSp=function(n){return 0===n.length?"":n.replace(/\x20\x20+/g," ")},encodeLnBr=function(n){return n.replace(/(\r\n|\n|\r)/gm,"\\n")},isSurrogatePair=function(n){return 65536<=n},isBom=function(n){return 65279===n||65534===n||15711167===n||185479870509===n||724530744===n||724530745===n||724530726===n};
//# sourceMappingURL=strbrk.min.js.map