"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};exports.__esModule=!0;var splitByOpt,lnEndOpt,widthFlags,utf16_char_codes_1=require("utf16-char-codes");!function(t){t[t.width=0]="width",t[t.word=1]="word",t[t.line=2]="line"}(splitByOpt=exports.splitByOpt||(exports.splitByOpt={})),function(t){t[t.none=0]="none",t[t.noLnBr=1]="noLnBr",t[t.encode=2]="encode"}(lnEndOpt=exports.lnEndOpt||(exports.lnEndOpt={})),function(t){t[t.none=0]="none",t[t.fullwidth=1]="fullwidth",t[t.surrogatePair=2]="surrogatePair",t[t.nearestWord=4]="nearestWord"}(widthFlags=exports.widthFlags||(exports.widthFlags={})),exports.stringBreaker=function(t,n){if("string"!=typeof t)throw new TypeError("stringBreaker: str parmeter must be of type string");var e,r=getOptions({width:80,lnEnd:lnEndOpt.noLnBr,noExSp:!1,noBOM:!0,lenOpt:widthFlags.none,splitOpt:splitByOpt.width},n);if(r.splitOpt===splitByOpt.width)switch(r.lnEnd){case lnEndOpt.encode:t=encodeLnBr(t);break;case lnEndOpt.noLnBr:t=removeLnBr(t)}switch(!0===r.noExSp&&(t=removeExSp(t)),r.splitOpt){case splitByOpt.word:case splitByOpt.line:e=breakStrByEolWord(t,r);break;default:e=breakStrByCodePoint(t,r)}return e};var getOptions=function(t,n){return null==n||"function"==typeof n?t:("number"==typeof n&&((t=__assign({},t)).width=n,n=t),void 0===n.width&&(n.width=80),void 0===n.lnEnd&&(n.lnEnd=lnEndOpt.noLnBr),void 0===n.noExSp&&(n.noExSp=!1),void 0===n.noBOM&&(n.noBOM=!0),void 0===n.lenOpt&&(n.lenOpt=widthFlags.none),void 0===n.splitOpt&&(n.splitOpt=splitByOpt.width),n)},breakStrByEolWord=function(t,n){var e=[];if(0===t.length)return e;var r=!1;if(!0===n.noBOM&&(r=!0),!0===r){var i=Number(t.codePointAt(0));if(!0===isBom(i)&&0===(t=t.substr(1)).length)return e}if(t=cleanLnBr(t),n.splitOpt===splitByOpt.word){if(0===(t=(t=whiteSpToSp(t)).trim()).length)return e;e=t.split(" ")}else{if(0===t.length)return e;e=t.split(/\n/)}return e},breakStrByCodePoint=function(t,n){var e=Math.round(Number(n.width));if(e<1)throw new RangeError("stringBreaker: Width must be greater than zero");var r=[],i=[],o=!1,s=!1,p=!1,a=!1;if(void 0!==n.lenOpt){if(n.lenOpt<widthFlags.none||7<n.lenOpt)throw new RangeError("stringBreaker: widthflags enum out of range. Expected value to be from "+widthFlags.none+" to 7");(n.lenOpt&widthFlags.fullwidth)===widthFlags.fullwidth&&(s=!0),(n.lenOpt&widthFlags.surrogatePair)===widthFlags.surrogatePair&&(p=!0),(n.lenOpt&widthFlags.nearestWord)===widthFlags.nearestWord&&(a=!0)}!0===n.noBOM&&(o=!0);for(var l=0,u=0;u<t.length;u++){var d=t.codePointAt(u);if(void 0===d)throw new Error("stringBreaker Error: No code point exist in first parameter str at postion "+u);var h=Number(d),c=String.fromCodePoint(h);if(0===u)if(!0===o){if(!0===isBom(h))continue}else if(!0===isBom(h)){i.push(c);continue}if(!0===isSurrogatePair(h)&&u++,!0!==a||0!==i.length||!0!==isWhiteSpace(h)||!1!==isPrintableWhiteSpace(h)){if(l++,!0===s&&!0===utf16_char_codes_1.codePointFullWidth(h)&&l++,!0===p&&!0===isSurrogatePair(h)&&l++,!0===a){if(!1===isWhiteSpace(h)){i.push(c);continue}if(!0===isNonBreakSpace(h)){i.push(c);continue}!0===isPrintableWhiteSpace(h)?i.push(c):l<e&&i.push(c)}else i.push(c);e<=l&&(r.push(i.join("")),i=[],l=0)}}return 0<i.length&&(r.push(i.join("")),i=[]),r},isZSpace=function(t){return-1!==[32,160,5760,8239,8287,12288].indexOf(t)||8192<=t&&t<=8202},isWhiteSpace=function(t){return-1!==[133,8233].indexOf(t)||(9<=t&&t<=13||!0===isZSpace(t))},isNonBreakSpace=function(t){return 160===t||8239===t},isPrintableWhiteSpace=function(t){return 5760===t},removeLnBr=function(t){return 0===t.length?"":t.replace(/(\r\n|\n|\r)/gm,"")},whiteSpToSp=function(t){return 0===t.length?"":t.replace(/\s+/gm," ")},cleanLnBr=function(t){return 0===t.length?"":t.replace(/(\r\n|\r)/gm,"\n")},removeExSp=function(t){return 0===t.length?"":t.replace(/\x20\x20+/g," ")},encodeLnBr=function(t){return t.replace(/(\r\n|\n|\r)/gm,"\\n")},isSurrogatePair=function(t){return 65536<=t},isBom=function(t){return 65279===t||65534===t||15711167===t||185479870509===t||724530744===t||724530745===t||724530726===t};
//# sourceMappingURL=strbrk.min.js.map