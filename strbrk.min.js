"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};exports.__esModule=!0;var splitByOpt,lnEndOpt,widthFlags,utf16_char_codes_1=require("utf16-char-codes");!function(t){t[t.width=0]="width",t[t.word=1]="word",t[t.line=2]="line"}(splitByOpt=exports.splitByOpt||(exports.splitByOpt={})),function(t){t[t.none=0]="none",t[t.noLnBr=1]="noLnBr",t[t.encode=2]="encode"}(lnEndOpt=exports.lnEndOpt||(exports.lnEndOpt={})),function(t){t[t.none=0]="none",t[t.fullwidth=1]="fullwidth",t[t.surrogatePair=2]="surrogatePair"}(widthFlags=exports.widthFlags||(exports.widthFlags={})),exports.stringBreaker=function(t,n){if("string"!=typeof t)throw new TypeError("stringBreaker: str parmeter must be of type string");var r,e=getOptions({width:80,lnEnd:lnEndOpt.noLnBr,noExSp:!1,noBOM:!0,lenOpt:widthFlags.none,splitOpt:splitByOpt.width},n);if(e.splitOpt===splitByOpt.width)switch(e.lnEnd){case lnEndOpt.encode:t=encodeLnBr(t);break;case lnEndOpt.noLnBr:t=removeLnBr(t)}switch(!0===e.noExSp&&(t=removeExSp(t)),e.splitOpt){case splitByOpt.word:case splitByOpt.line:r=breakStrByEolWord(t,e);break;default:r=breakStrByCodePoint(t,e)}return r};var getOptions=function(t,n){return null==n||"function"==typeof n?t:("number"==typeof n&&((t=__assign({},t)).width=n,n=t),void 0===n.width&&(n.width=80),void 0===n.lnEnd&&(n.lnEnd=lnEndOpt.noLnBr),void 0===n.noExSp&&(n.noExSp=!1),void 0===n.noBOM&&(n.noBOM=!0),void 0===n.lenOpt&&(n.lenOpt=widthFlags.none),void 0===n.splitOpt&&(n.splitOpt=splitByOpt.width),n)},breakStrByEolWord=function(t,n){var r=[];if(0===t.length)return r;var e=!1;if(!0===n.noBOM&&(e=!0),!0===e){var i=Number(t.codePointAt(0));if(!0===isBom(i)&&0===(t=t.substr(1)).length)return r}if(t=cleanLnBr(t),n.splitOpt===splitByOpt.word){if(0===(t=(t=whiteSpToSp(t)).trim()).length)return r;r=t.split(" ")}else{if(0===t.length)return r;r=t.split(/\n/)}return r},breakStrByCodePoint=function(t,n){var r=Math.round(Number(n.width));if(r<1)throw new RangeError("stringBreaker: Width must be greater than zero");var e=[],i=[],o=!1,s=!1,l=!1;if(void 0!==n.lenOpt){if(n.lenOpt<widthFlags.none||3<n.lenOpt)throw new RangeError("stringBreaker: widthflags enum out of range. Expected value to be from "+widthFlags.none+" to 3");(n.lenOpt&widthFlags.fullwidth)===widthFlags.fullwidth&&(s=!0),(n.lenOpt&widthFlags.surrogatePair)===widthFlags.surrogatePair&&(l=!0)}!0===n.noBOM&&(o=!0);for(var p=0,a=0;a<t.length;a++){var d=t.codePointAt(a);if(void 0===d)throw new Error("stringBreaker Error: No code point exist in first parameter str at postion "+a);var u=Number(d),h=String.fromCodePoint(u);if(0===a)if(!0===o){if(!0===isBom(u))continue}else if(!0===isBom(u)){i.push(h);continue}!0===isSurrogatePair(u)&&a++,p++,!0===s&&!0===utf16_char_codes_1.codePointFullWidth(u)&&p++,!0===l&&!0===isSurrogatePair(u)&&p++,i.push(h),r<=p&&(e.push(i.join("")),i=[],p=0)}return 0<i.length&&(e.push(i.join("")),i=[]),e},removeLnBr=function(t){return 0===t.length?"":t.replace(/(\r\n|\n|\r)/gm,"")},whiteSpToSp=function(t){return 0===t.length?"":t.replace(/\s+/gm," ")},cleanLnBr=function(t){return 0===t.length?"":t.replace(/(\r\n|\r)/gm,"\n")},removeExSp=function(t){return 0===t.length?"":t.replace(/\x20\x20+/g," ")},encodeLnBr=function(t){return t.replace(/(\r\n|\n|\r)/gm,"\\n")},isSurrogatePair=function(t){return 65536<=t},isBom=function(t){return 65279===t||65534===t||15711167===t||185479870509===t||724530744===t||724530745===t||724530726===t};
//# sourceMappingURL=strbrk.min.js.map